<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Young2024</title>

  <!--스크롤 모션 -->
  <script src="./style/scrollMotion.js" async></script>
  <!--텍스트를 접었다 폈다 하는 기능 -->
  <script src="./style/caption.js"></script>

  <!-- CSS -->
  <link rel="stylesheet" href="./style/default.css" />
  <link rel="stylesheet" href="./style/index.css" />
</head>

<body>
  <header>
    <a class="header_name" href="./index.html"> Younghyun Song </a>

    <div class="header_menu">
      <a id="menu" href="./work-all.html">Work</a>
      <a id="menu" href="./05_about.html">About</a>
    </div>
  </header>

  <div class="typewriter__text-input" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"
    contenteditable="true" style="--type-caret-blink-speed: 500ms" id="textInput">
    <span class="typewriter__type-root" data-key="0">
      <span class="typewriter__text-selection">
        <span class="typewriter__text-content">
        </span>
      </span>
    </span>
    <br>
    </span>
  </div>

  <!-- <div class="btncentre"> <button></button> -->
  </div>

  <footer>
    © YounghyunSong. 2025
    <br>
    <span id="underline">
      <a href="mailto:" yhyun4156@gmail.com>mail.</a><br>
      <a href="https://www.instagram.com/youhyus/" target="_blank">ig.</a> <br>
    </span>
  </footer>


<script>
  const colors = [
    "#dcc3ff", // 연한 보라
    "#77dd77", // 연한 초록
    "#fdfd96", // 연한 노랑
    "#84b6f4", // 연한 파랑
    "#fdcae1"  // 연한 핑크
  ];

  const textInput = document.getElementById("textInput");
  let moveCount = 0;
  let lastMoveTime = 0;

  function splitBackground() {
    moveCount++;
    if (moveCount > 10) moveCount = 0; // 2^10 = 1024까지 허용

    const total = Math.pow(2, moveCount);
    const paneWidth = 100 / total;

    // 기존 패널 제거
    document.querySelectorAll(".pane").forEach(pane => pane.remove());

    // 새 패널 생성
    for (let i = 0; i < total; i++) {
      const pane = document.createElement("div");
      pane.classList.add("pane");
      pane.style.position = "fixed"; // 전체 화면 채움
      pane.style.top = "0";
      pane.style.left = `${paneWidth * i}vw`;
      pane.style.width = `${paneWidth}vw`;
      pane.style.height = "100%"; // vh → %
      pane.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
      pane.style.zIndex = "-1";
      document.body.appendChild(pane);
    }
  }

  function handleTrigger(e) {
    if (textInput.contains(e.target)) return;

    const now = Date.now();
    if (now - lastMoveTime < 300) return; // debounce
    lastMoveTime = now;

    splitBackground();
  }

  // 마우스 움직임 (PC)
  document.addEventListener("mousemove", handleTrigger);

  // 터치 시작 (Mobile)
  document.addEventListener("touchstart", handleTrigger);

  // 모바일에서 입력창 포커스 시 배경색 유지
  let lastRandomColor = "";
  if (window.innerWidth <= 700) {
    textInput.addEventListener("focus", () => {
      const randomColor = colors[Math.floor(Math.random() * colors.length)];
      lastRandomColor = randomColor;
    });
    textInput.addEventListener("blur", () => {
      document.body.style.backgroundColor = lastRandomColor;
    });
  }
</script>




</body>

</html>