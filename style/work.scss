$default-f: 1.1vw;
$mobile-f: 3.9vw;

$lh: 1.45em;
$titlelh: 1.2em;
$padding: 0 1.2vw 0 1.2vw;
$vh-space: 3vh;

#underline {
	text-decoration: underline;
}

body {
	.category {
		margin-bottom: $vh-space;
		font-size: 1.3rem;
		letter-spacing: -0.03em;
		color: var(--gray);

		.selected {
			color: black;
		}

		> a {
			margin-right: 0.7em;
		}

		> a:hover {
			color: rgb(100, 100, 100);
			transition: all 0.2s linear;
		}
	}

	.container {
		display: flex;
		flex-wrap: wrap;
		gap: 2vw;
		margin-bottom: 4em;
		align-items: center; // row 세로 정렬

		.box {
			width: calc((100% - 2vw * 2) / 3);
			display: flex;
			flex-direction: column;
			justify-content: center;

			.thumbnail-box {
				> img {
					width: 100%;
					height: auto;
					max-height: 60vh;
					object-fit: contain; // 이미지 비율 유지
				}

				.text-container {
					position: absolute;
					top: 0;
					left: 0;
					width: 100%;
					height: 100%;
					padding: 2em;

					display: flex;
					flex-direction: column;
					justify-content: center;
					align-items: center;
					text-align: center;

					opacity: 0;
					pointer-events: none;
					transition: opacity 0.15s linear;
					z-index: 1;

					.text-container-title {
						color: rgb(0, 0, 0);
						width: 90%;
						font-size: 1.6rem;
						line-height: 1.2em;
						margin-bottom: 0.3em;
					}

					.text-container-sub {
						color: rgb(0, 0, 0);
						font-size: 1.2rem;
						line-height: 1.2em;
					}

					#award {
						position: absolute;
						top: 1em;
						left: 1em;
						width: 13%;
						height: auto;
					}
				}

				&:hover {
					.text-container {
						opacity: 1;
						pointer-events: auto;
					}
				}
			}
		}
	}
}

/* 터치 환경(hover 불가)에서 정보 항상 노출 */
@media (hover: none) and (pointer: coarse) {
	body .container .box .thumbnail-box {
		.text-container {
			position: static !important;
			width: 100% !important;
			height: auto !important;
			padding: 1em 0 !important;
			opacity: 1 !important;
			pointer-events: auto !important;
			text-align: left; // 모바일 가독성
			align-items: flex-start;
			justify-content: flex-start;
			background: none !important;
		}

		/* hover 규칙 무력화 */
		&:hover .text-container {
			opacity: 1 !important;
			pointer-events: auto !important;
		}
	}
}

@media only screen and (max-width: 700px) {
	body {
		.category {
			font-size: 1.3rem;
			letter-spacing: -0.03em;
			color: var(--gray);
		}
		.container {
			gap: $vh-space; // 박스 간격 넉넉하게

			.box {
				width: 100% !important;
				max-width: 100% !important;
				flex: 0 0 100% !important;
			}

			.box .thumbnail-box {
				/* 모바일에서 award 기준점 부여 */
				position: relative;

				.text-container {
					.text-container-title {
						width: 80%;
						margin-bottom: 0.15em;
					}

					.text-container-sub {
						color: var(--gray);
						font-size: 1.3rem;
						line-height: 1.4em;
					}

					/* 텍스트를 이미지 아래로, 배경 없이 항상 노출 */
					position: static !important;
					width: 100% !important;
					height: auto !important;
					padding: 0.9em 0 0 !important;
					opacity: 1 !important;
					pointer-events: auto !important;
					background: none !important;
					text-align: left;
					align-items: flex-start;
					justify-content: flex-start;

					/* 데스크톱용 award 규칙은 모바일에서 무시되도록 여기서는 제거 */
					#award {
						display: none;
					} // DOM상 내부에 있어도 표시 안 함
				}

				&:hover .text-container {
					opacity: 1 !important;
					pointer-events: auto !important;
				}

				/* 모바일에서만 이미지 박스의 왼쪽 상단에 award 고정 */
				#award {
					display: block !important;
					position: absolute !important;
					top: 0.5em !important;
					left: 0.5em !important;
					width: 16% !important; /* 필요 시 14~16%로 조정 */
					height: auto !important;
					z-index: 2 !important;
					pointer-events: none !important;
					margin: 0 !important;
				}
			}
		}
	}
}
